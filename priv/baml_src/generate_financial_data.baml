class FinancialItem {
  id int
  name string
  amount string
  category string
  frequency string
  editable bool
  icon string?
}

class FinancialData {
  income FinancialItem[]
  spending FinancialItem[]
  investment FinancialItem[]
}

class PersonalInfo {
  name string?
  gender string?
  age int?
  company_name string?
}

function GenerateFinancialData(personal_info: PersonalInfo) -> FinancialData {
  client Claude
  prompt #"
    {{ _.role('system') }}
    제공된 개인 정보를 바탕으로 한국인 개인의 실제 금융 거래 내역을 생성하세요.

    개인 정보: {{ personal_info }}

    다음 요소를 바탕으로 라이프스타일, 소득 수준, 그리고 금융 니즈를 추론하세요:
    - 나이: 인생 단계 판단 (20대 학생/신입사원, 30대 경력 축적, 40대+ 가정/시니어/미혼/돌싱/딩크 경력)
    - 성별: 한국의 문화적 금융 패턴 고려
    - 회사: 연봉 범위와 복리후생 추정 (대기업 vs 중소기업 vs 스타트업 vs 공공기관)

    정확히 3가지 카테고리로 실제 거래 내역을 생성하세요:
    1. 수입: 개별 입금 건들을 생성 (합계가 아닌 실제 결제/입금 건)
       - 직장인: 월급 입금, 개별 보너스/상여금 입금 등
       - 학생: 개별 아르바이트비, 용돈 입금, 장학금 입금 등
       - 자영업자: 개별 사업 수입 입금들
       - 무직자: 실업급여, 개별 부모 지원금 등

    2. 지출: 개별 결제 건들을 생성 (월 합계가 아닌 실제 개별 결제)
       - 구체적인 상호명/서비스명 사용: "스타벅스 강남점", "GS25 편의점", "카카오T 택시" 등
       - 실제 결제 금액: "4,500원", "15,600원", "28,000원" 등
       - 다양한 지출처: 카페, 편의점, 마트, 온라인 쇼핑몰, 구독 서비스, 교통비, 식당 등

    3. 투자: 개별 투자 거래 건들을 생성
       - 구체적인 투자처: "삼성전자 주식 매수", "KB국민 적금 입금", "업비트 비트코인 매수" 등
       - 실제 투자 금액: "50만원", "10만원", "5만원" 등

    editable 필드에 대한 중요한 규칙:
    - AI가 분류를 명확하게 판단할 수 있는 개별 거래는 editable = false로 설정:
      * 명확한 수입: 월급 입금, 아르바이트비, 장학금
      * 명확한 필수 지출: 월세, 전기요금, 가스요금, 수도요금, 통신비, 보험료
      * 명확한 선택적 지출: 영화관, 카페, 온라인 쇼핑, 게임 결제, 배달음식
      * 명확한 투자: 주식 매수, 적금 입금, 펀드 가입
    - AI가 분류를 모호하거나 애매하게 판단할 수밖에 없는 개별 거래는 editable = true로 설정:
      * 모호한 수입: 부모님 용돈, 선물받은 돈, 중고거래 수입
      * 모호한 지출: 마트 장보기, 외식, 의류 구매, 교통비, 취미용품
      * 모호한 투자: 암호화폐, 해외 주식, 비상금 저축

    기타 요구사항:
    - 전체 카테고리에서 12-15개의 개별 거래 내역 생성
    - 이 사람의 프로필에 맞는 현실적인 거래처와 금액 생성
    - editable = true인 항목들이 전체의 30-40% 정도가 되도록 조절
    - 한국 원 금액 표기: "4,500원", "250,000원", "1,200,000원" 등
    - 거래 빈도: "월별", "연별", "주별", "일회성", "불규칙" 등
    - 실제 존재하는 상호명/서비스명 사용
    - 한국 문화적 상황과 실제 소비 패턴 반영
    - 모든 거래 내역은 한국어로 명명

    현실성 체크:
    - 회사명이 제공된 경우: 해당 회사에서 월급 입금
    - 나이와 직업에 맞는 소비 패턴 (예: 20대는 배달음식/카페, 30대는 마트/육아용품)
    - 실제 존재하는 금액대 (예: 스타벅스 4,500원, 지하철 1,470원)
    - 한 달 기준으로 현실적인 거래 빈도와 금액

    각 거래는 실제 가계부나 통장 내역에 나타날 법한 구체적인 개별 건들로 생성하세요.

    출력 JSON 스키마:
    {{ ctx.output_format }}

    JSON:
  "#
}
